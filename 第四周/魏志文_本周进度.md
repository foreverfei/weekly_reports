### 第四周总结

### 1. 本周完成的工作

*   实验设计与实施：

*   数据收集与处理：

*   算法开发与优化：

*   文献阅读：

    *   阅读了哪些论文或书籍，主要收获与启发。
    *   **All One Needs to Know about Priors for Deep Image Restoration and Enhancement- A Survey**。初步了解在图像恢复和增强领域的主要先验，为后续阅读和理解该领域其他论文奠定基础。
    *   **Li_All-in-One_Image_Restoration_for_Unknown_Corruption_CVPR_2022_paper**。作者团队首次提出All-in-One的图像恢复网络，且只需要把图片扔进去就可以输出恢复后的图片，作者提出的最大化相似退化点和最小化不相似退化点的思想在一定程度上将网络转化为通过对比学习的高效分类器，通过训练过的各种退化图片，使得网络不需要针对某种特定先验特定程度退化做出识别即可达到恢复效果。
    *   **Sober算子以及Canny算子**核心内容。
    *   **Deformable Convolutional Networks**。作者团队提出DCN可形变卷积是为了在面对不同物体的不同形状时，卷积可以更快更好的捕获其信息，DCN的实现依靠于通过普通卷积获得卷积点的偏移量$\Delta p$（该数值大多为小数）（3×3举例），其本质为中心点外八点的偏移量，然后卷积点计算时就是按照偏移点四周距离权重之和计算。
    *   **Momentum Contrast for Unsupervised Visual Representation Learning**。初步阅读，主要了解到MoCo提出两点主要贡献，第一是将原来对比学习中的Memory Bank替换成Queue，这样子的目的是为了更好的扩大K的数量，以更好的将loss函数拟合接近有监督学习的loss函数；第二是提出的动量修改K向量的学习率，这一点的提出是为了更好的保留Queue中所有Batch中的一致性。这两点的提出直接使得无监督学习（自监督学习）与有监督学习的差距填平，甚至在一些下游任务中赶超有监督学习。
*   论文撰写：


### 2. 遇到的困难和问题

*   技术难点：

    *   在翻阅项目代码时，会遇到各种各样从没见到过的python、pytorch代码，所以看项目代码一时半会是一项十分头痛的工作。
*   理论疑惑：

    *   为什么CBDE（基于对比的退化编码器）的loss函数需要再softmax的基础上再嵌套 -log ？
    *   CBDE提出来为了解决什么问题的？怎么解决的？为什么要把CBDE第一层的输出作为DGRN的输入？
    *   为什么DGRN（基于退化指导的恢复网络）要用DCN和SFT？
    *   DCN和SFT具体是怎么实现的？
*   实验问题：
*   其他问题

### 3. 解决方案与已采取的措施

*   问题分析：

    *   针对看不懂项目代码这一问题仔细思考一番，其实重点不是逻辑看不懂，是遇到的python代码与本科习惯所用的C++有很大差距，在逐步积累常用pytorch函数后慢慢也可以对代码能力有所进步，这一部分还需要多积累多思考。
*   解决方法：

    *   Gpt问答。本质为计算交叉熵，交叉熵公式为$L=-\sum_{i}{y_i \log(p_i)}$，其中$y_i$为独热编码，故课忽略，即$L=-\log(softmax(x))$。
    *   文献阅读**AirNet**。CBDE提出来是为了从输入图像中提取潜在的退化表征，解决方法是通过对比学习最大化相同退化的相似度、最小化不同退化的相似度以达到对不同退化的细分。其中positive pair来自同一张图片的随机裁剪，而negative pair来自不同图片的随机裁剪。==文章中说是为了尽可能保留空间结构以便图像恢复，那经过的卷积深一点不是更能捕获退化特征嘛？？？==保留更多细节（空间、轮廓），其次是退化特征可能在多层次卷积中变得复杂或不相关。
    *   文献翻阅**Deformable Convolutional Networks**，DCN通过引入可学习的偏移量，使得卷积操作能够灵活地调整采样位置，从而更好地捕捉图像中的几何变化和细节信息，**用在DGRN中**是非常希望模型可以自适应不同的退化以及不同程度的退化。DCN实现依靠原图的偏移学习（卷积）来获得 $\Delta p \ \Delta m$ ，在通过加入的偏移量和偏移权重对图像做卷积操作。
    *   **网络搜寻Google**，SFT的引入是因为面对各种不同退化，它们的概率分布差距可能会很大，为了尽可能减少这个分布差距引入了SFT。具体实现是通过两层卷积得到 $\alpha \ \beta$ ，在通过 $γ⊙F^{m−1,b,g}+β$ 获得SFT之后的图像。
*   寻求的帮助：

    *   咨询了导师或同学，获得的建议。

### 4. 下周工作计划

*   主要目标：

    *   下周希望达成的总体目标。
    *   认真强化代码能力。
    *   阅读并了解Diffusion中的数学公式，力求能够自己理解并推出结果来。
*   具体任务：

    *   计划开展的实验、阅读的文献等。
    *   **DCN代码细节、Transformer代码细节**（搞懂力求能够复现代码
    *   **Denoising Diffusion Probabilistic Models**
    *   **Tutorial on Diffusion Models for Imaging and Vision**
*   时间安排：

    *   为每项任务制定具体的时间计划。

### **5. 需要的支持与资源**

*   导师建议：

    *   希望导师在哪些方面提供指导。
    *   我想了解我对于论文精读的方式是否适用于现在阶段？精读的方式为第一遍阅读标题、概述、重要图表、结论，第二遍从头到尾阅读并标注重点以及不理解的难点，第三遍将重难点记录解析并通过与gpt交流以及网络资源查阅等方式彻底理解掉，三遍后会去查看该文章中用到的代码细节所涉及的文章（如AirNet用到的DCN、SFT、MoCo）。
    *   我想了解当前的学习进度会很慢吗？因为我既怕与同门相比学的很慢，也很害怕学的囫囵吞枣似懂非懂。

*   资源需求：

    *   需要的设备、软件、数据集等。

### 6. 其他备注

*   个人心得：

    *   对本周工作的反思和体会。
    *   本周主要工作就是将**Li_All-in-One_Image_Restoration_for_Unknown_Corruption_CVPR_2022_paper**这篇文章进行详细阅读，将其中所涉及到的数学公式，基础模块实现方式都有学习，此外还对边缘算子的Sober和Canny算子实现方式有认真了解。总的来说本周所学习内容较少，希望后续能够找回积极学习的心态。

